 let div=document.getElementById("maindiv")
 let obj=[{id:1,
  image:"https://images.footlocker.com/is/image/EBFL2/18347023?wid=249&hei=249&fmt=png-alpha",
description:"Nick JDI Fleence Hoodie",
price:29,
category:"Men",
style:"Hoodie",
color:"Black",
size:30
 },
{id:2,
  image:"https://images.footlocker.com/is/image/EBFL2/V2645010?wid=249&hei=249&fmt=png-alpha",
description:"Nick Club Full Zip Hoodie",
price:39,
category:"Men",
style:"Hoodie",
color:"Black",
size:28
},
{id:3,
  image:"https://images.footlocker.com/is/image/EBFL2/D3129063?wid=249&hei=249&fmt=png-alpha",
description:"Nick NSW  PANTS",
price:49,
category:"Men",
style:"Pants",
color:"White",
size:32
},
{id:4,
  image:"https://images.footlocker.com/is/image/EBFL2/62388151?wid=249&hei=249&fmt=png-alpha",
description:"NikE T-SHIRTS",
price:79,
category:"Men",
style:"T-Shirts",
color:"Red",
size:28
},
{id:5,
  image:"https://images.footlocker.com/is/image/EBFL2/122WP4BK?wid=249&hei=249&fmt=png-alpha",
description:"MCR AMSTERDEM UTILITY PANTS",
price:55,
category:"Men",
style:"Pants",
color:"Black",
size:32
},
{id:6,
  image:"https://images.footlocker.com/is/image/EBFL2/42388069?wid=249&hei=249&fmt=png-alpha",
description:"NIKE AIR T-SHIRTS",
price:48,
category:"Men",
style:"T-Shirts",
color:"Blue",
size:32
},
{id:7,
  image:"https://images.footlocker.com/is/image/EBFL2/18347029?wid=249&hei=249&fmt=png-alpha",
description:"Nick JDI FLICE UDI",
price:99,
category:"Men",
style:"Hoodie",
color:"Grey",
size:32
},
{id:8,
  image:"https://images.footlocker.com/is/image/EBFL2/D3129010?wid=249&hei=249&fmt=png-alpha",
description:"Nick NSW CARGO CLUB PANTS",
price:43,
category:"Men",
style:"Pants",
color:"Black",
size:32
},
{id:9,
  image:"https://images.footlocker.com/is/image/EBFL2/U4489010?wid=249&hei=249&fmt=png-alpha",
description:"NIKE FULL ZIP HOODIE",
price:39,
category:"Men",
style:"Hoodie",
color:"Black",
size:28
},
{id:10,
  image:"https://images.footlocker.com/is/image/EBFL2/V2671010?wid=249&hei=249&fmt=png-alpha",
description:"NiKE CLUB JOGGERS",
price:59,
category:"Men",
style:"Joggers",
color:"Black",
size:30
},
{id:11,
  image:"https://images.footlocker.com/is/image/EBFL2/U4495010?wid=249&hei=249&fmt=png-alpha",
description:"Nick FLEECE JOGGERS",
price:49,
category:"Men",
style:"Joggers",
color:"Black",
size:28
},
{id:12,
  image:"https://images.footlocker.com/is/image/EBFL2/C4489259?wid=249&hei=249&fmt=png-alpha",
description:"NiKE FLEECE FULL ZIP HOODIE",
price:79,
category:"Men",
style:"Hoodie",
color:"Brown",
size:32
},
{id:13,
  image:"https://images.footlocker.com/is/image/EBFL2/U4489063?wid=249&hei=249&fmt=png-alpha",
description:"NiKE FLEECE FULL ZIP HOODIE",
price:149,
category:"Men",
style:"Hoodie",
color:"White",
size:28
},
{id:14,
  image:"https://images.footlocker.com/is/image/EBFL2/V2654663?wid=249&hei=249&fmt=png-alpha",
description:"NiKE CLUB PULLOVER HODDIE",
price:123,
category:"Men",
style:"Hoodie",
color:"Pink",
size:30
},
{id:15,
  image:"https://images.footlocker.com/is/image/EBFL2/M6474407?wid=249&hei=249&fmt=png-alpha",
description:"NIKE FLEECE FULL ZIP HOODIE",
price:99,
category:"Men",
style:"Hoodie",
color:"Blue",
size:28
},
{id:16,
  image:"https://images.footlocker.com/is/image/EBFL2/U4489072?wid=249&hei=249&fmt=png-alpha",
description:"NIKE TECH FULL ZIP HODDIE",
price:89,
category:"Men",
style:"Hoodie",
color:"White",
size:30
},
{id:17,
  image:"https://images.footlocker.com/is/image/EBFL2/U4495063?wid=249&hei=249&fmt=png-alpha",
description:"NIKE FLEECE JOGGERS",
price:79,
category:"Men",
style:"Joggers",
color:"white",
size:32
},
{id:18,
  image:"https://images.footlocker.com/is/image/EBFL2/V2671063?wid=249&hei=249&fmt=png-alpha",
description:"Nick CLUB JOGGERS",
price:69,
category:"Men",
style:"Joggers",
color:"White",
size:28
},
{id:19,
  image:"https://images.footlocker.com/is/image/EBFL2/V2654259?wid=249&hei=249&fmt=png-alpha",
description:"NIKE CLUB PULL OVER HOODIE",
price:199,
category:"Men",
style:"Hoodie",
color:"Brown",
size:28
},
{id:20,
  image:"https://images.footlocker.com/is/image/EBFL2/762FCRDW?wid=249&hei=249&fmt=png-alpha",
description:"NBA STAIN JACKETS",
price:449,
category:"Men",
style:"Jackets",
color:"Red",
size:28
},
{id:21,
  image:"https://images.footlocker.com/is/image/EBFL2/V2654063?wid=249&hei=249&fmt=png-alpha",
description:"Nick CLUB PULLOVER HODDIE",
price:429,
category:"Men",
style:"Hoodie",
color:"White",
size:32
},
{id:22,
  image:"https://images.footlocker.com/is/image/EBFL2/V2654341?wid=249&hei=249&fmt=png-alpha",
description:"NICK CLUB PULLOVER HODDIE",
price:149,
category:"Men",
style:"Hoddie",
color:"Green",
size:32
},
{id:23,
  image:"https://images.footlocker.com/is/image/EBFL2/Q5152010?wid=249&hei=249&fmt=png-alpha",
description:"Nick CLUB PULLOVER HODDIE",
price:49,
category:"Men",
style:"Hoodie",
color:"Black",
size:28
},
{id:24,
  image:"https://images.footlocker.com/is/image/EBFL2/J6977002?wid=249&hei=249&fmt=png-alpha",
description:"NiKE AIR CRUE FLEECE",
price:89,
category:"Men",
style:"Jackets",
color:"Grey",
size:28
},
{id:25,
  image:"https://images.footlocker.com/is/image/EBFL2/U4489532?wid=249&hei=249&fmt=png-alpha",
description:"NiKE FLEECE TECH HODDIE",
price:179,
category:"Men",
style:"Hoodie",
color:"Pink",
size:30
},
{id:26,
  image:"https://images.footlocker.com/is/image/EBFL2/V2645063?wid=249&hei=249&fmt=png-alpha",
description:"NIKE CLUB HOODIE",
price:99,
category:"Men",
style:"Hoodie",
color:"White",
size:28
},
{id:27,
  image:"https://images.footlocker.com/is/image/EBFL2/V2645063?wid=249&hei=249&fmt=png-alpha",
description:"NIKE CLUB HOODIE",
price:99,
category:"Men",
style:"Hoodie",
color:"White",
size:30
},
{id:28,
  image:"https://images.footlocker.com/is/image/EBFL2/U4489657?wid=249&hei=249&fmt=png-alpha",
description:"NIKE TECH  CLUB HOODIE",
price:89,
category:"Men",
style:"Hoodie",
color:"Red",
size:28
},
]
// navbarcode

    // navbarend
// filteringpart
// filter by style


let style=document.getElementById("style1");
style.addEventListener("click",(e)=>{

  let newdata=obj.filter((item,index)=>{
    if(style.value==item.style){
      return true
    }
   else if(style.value==""){
    return obj
   }
  })
  appenddata(newdata)
})

// filterbycolor
let color=document.getElementById("color");
color.addEventListener("click",(e)=>{

  let newdata=obj.filter((item,index)=>{
    if(color.value==item.color){
      return true
    }
   else if(color.value==""){
    return obj
   }
  })
  appenddata(newdata)
})
// filterbyprice
let price=document.getElementById("price");
price.addEventListener("click",(e)=>{
  console.log(price.value)
  let newdata=obj.filter((item,index)=>{
    
    if( price.value=="25-50" && item.price>=25 && item.price<=50){
      console.log("YEs")
      return true
    }
    else if( price.value=="50-100" && item.price>50 && item.price<100){
      return true
    }
    else if( price.value=="Above" && item.price>100){
      return true
    }
   else if(price.value==""){
    return obj
   }
  })
  appenddata(newdata)
})
// filterbysize
let size=document.getElementById("size");
size.addEventListener("click",(e)=>{

  let newdata=obj.filter((item,index)=>{
    if(size.value==item.size){
      return true
    }
   else if(size.value==""){
    return obj
   }
  })
  appenddata(newdata)
})
// inputpartclothing

// sortpartA-Z
let sort1=document.getElementById("sort1");
sort1.addEventListener("change",()=>{
  let newdata;
  
  if(sort1.value=="A-Z"){
     newdata=obj.sort((a, b) => {
  const nameA = a.style.toUpperCase(); 
  const nameB = b.style.toUpperCase(); 
  if (nameA < nameB) {
    return -1;
  }
  if (nameA > nameB) {
    return 1;
  }

  // names must be equal
  return 0;
});
appenddata(newdata)
  }

  else if(sort1.value=="Z-A"){
   newdata=obj.sort((a, b) => {
  const nameA = a.style.toUpperCase(); 
  const nameB = b.style.toUpperCase(); 
  if (nameA > nameB) {
    return -1;
  }
  if (nameA < nameB) {
    return 1;
  }
 

  // names must be equal
  return 0;
});
appenddata(newdata)
  }
  else if(sort1.value=="x"){
  appenddata(obj) } 
})

// sortbypricelowtohigh
// let sort2=document.getElementById("sort2");
// sort2.addEventListener("change",()=>{
//  let newdata=obj.sort((a,b)=>{
//   if(sort2.value=="lowtohigh"){
//     return  +a.price-(+(b.price))
//   }
//   else if(sort2.value=="hightolow"){
   
//   return +b.price-(+(a.price))
//  }
//  else if(sort2.value==""){ obj}

// }
//  )
// appenddata(newdata) })
  
  
  
appenddata(obj)
// addtocartgetitem
let cartdata=JSON.parse(localStorage.getItem("cart"))||[];
// favouritesgetitem
favourite=JSON.parse(localStorage.getItem("favouritedata"))||[];

           function appenddata(data){
            maindiv.innerHTML=null;
            data.forEach(element => {
              let childdiv=document.createElement("div");
              childdiv.setAttribute("id","child")
              let img=document.createElement("img");
              img.setAttribute("src",element.image)
              let des=document.createElement("h4");
              des.setAttribute("id","des")
des.innerText=element.description
childdiv.setAttribute("class","description");
let category=document.createElement("p");
category.innerText=`category:-${element.category}`
let price=document.createElement("p");
price.innerText=`Price:-${element.price}$`
let style=document.createElement("p");
style.innerText=`style:-${element.style}`
let button=document.createElement("button");
button.innerText="Add To Cart"
button.setAttribute("id","cartbutton");
let favourites=document.createElement("button");
favourites.innerText="My favourates";
favourites.setAttribute("id","favourites")
// addtocartfunctionality
button.addEventListener("click",()=>{
  let isAlready=false;
  for(i=0;i<cartdata.length;i++){
    if(cartdata[i].id==element.id){
      console.log(element.id)
      isAlready=true;
      break;
    }
  }

  if(isAlready==true){alert("Sorry! You Can't Add Same Product Again.")
}
  else if(isAlready==false){
    cartdata.push({...element,quantity:1})
    localStorage.setItem("cart",JSON.stringify(cartdata))
    alert("Yeah! Your Product Added To Cart Successfully")}
})
// cartpartend
// addtofavouratepart
favourites.addEventListener("click",()=>{
  let isAlready=false;
  for(i=0;i<favourite.length;i++){
    if(favourite[i].id==element.id){
     
      isAlready=true;
      break;
    }
  }

  if(isAlready==true){alert("Sorry! You Already Added This Product To Favourates.")
}
  else if(isAlready==false){
    favourite.push(element)
    localStorage.setItem("favouritedata",JSON.stringify(favourite))
    alert("Yeah! Your Product Added To favourites section")}
})
// favouritesend





              childdiv.append(img,des,category,price,style,button,favourites);
             

              div.append(childdiv)
              
            });
           }


// **********************Search****************************************
    
    
document.addEventListener("click", (evt) => {
    const flyoutEl = document.getElementById("search");
    let targetEl = evt.target; // clicked element      
    do {
        if (targetEl == flyoutEl) {
            // This is a click inside, does nothing, just return.
            toggleSearchDivs();
            return;
        }
        // Go up the DOM
        targetEl = targetEl.parentNode;
    } while (targetEl);
    // This is a click outside.      
    collapseSearchDivs();
});
function toggleSearchDivs() {
    let search = document.getElementById("search");
    let search_bar = document.getElementById("search-bar");
    let right_div = document.getElementById("right");
    let middle_div = document.getElementById("middle");

    search.style.width = "100%";
    search_bar.style.width = "100%";
    // search_bar.style.position="absolute";
    right_div.style.width = "100%";
    middle_div.style.width = "0%";


}

function collapseSearchDivs() {

    let search = document.getElementById("search");
    let search_bar = document.getElementById("search-bar");
    let right_div = document.getElementById("right");
    let middle_div = document.getElementById("middle");

    search.style.width = "";
    search_bar.style.width = "";
    right_div.style.width = "";
    middle_div.style.width = "";
    search_bar.style.position="";
    document.getElementById("search-suggestion").innerHTML=null;

}


           